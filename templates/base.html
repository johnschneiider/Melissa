<!DOCTYPE html>
<html lang="es">
<head>
<head>
  <meta charset="UTF-8">
  <title>Melissa Citas | Gestión de turnos para peluquerías</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Melissa es una app para peluquerías que facilita la gestión de citas y turnos con un calendario intuitivo, presencia profesional y estilo minimalista.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="{{ request.build_absolute_uri }}">

  
  <!-- Open Graph para redes sociales -->
  <meta property="og:title" content="Melissa Citas – Administra turnos de peluquería fácilmente">
  <meta property="og:description" content="Optimiza tus citas con Melissa: calendario, gestión de peluqueros y experiencia profesional para tus clientes.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ request.build_absolute_uri }}">
  <meta property="og:image" content="URL_de_imagen_promocional">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Melissa Citas | Gestión de turnos para peluquerías">
  <meta name="twitter:description" content="La app para que dueños de peluquerías manejen citas, peluqueros y calendario con estilo minimalista.">
  <meta name="twitter:image" content="URL_de_imagen_promocional">

  <!-- Hojas de estilo -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <!-- FullCalendar CSS -->
  <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css' rel='stylesheet' />

</head>



    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
        }

        .header {
            padding: 1rem 2rem;
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #ddd;
        }

        .logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #ccc;
        }

        .gradient-btn {
            background: linear-gradient(to right, #a18cd1, #fbc2eb);
            border: none;
            color: white;
            padding: 0.6rem 1.5rem;
            border-radius: 30px;
            font-weight: 500;
            transition: background 0.3s;
        }

        .gradient-btn:hover {
            opacity: 0.9;
        }

        .btn-gradient {
            background: linear-gradient(45deg, #9d50bb, #6e48aa);
            border: none;
            color: white;
            font-weight: 500;
            transition: 0.3s ease;
        }

        .btn-gradient:hover {
            background: linear-gradient(45deg, #6e48aa, #9d50bb);
        }

        footer {
            background-color: #212529;
            color: white;
            padding: 2rem 2rem;
        }

        footer a {
            color: #bbb;
            text-decoration: none;
        }

        footer a:hover {
            color: white;
        }
    </style>
</head>
<!-- FullCalendar JS -->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js'></script>

<body class="bg-light">

    <!-- Header global -->
    <header class="header">
    <div class="d-flex align-items-center">
        <div class="logo me-3"></div>
        <h4 class="mb-0">Melissa</h4>
    </div>
    <div class="d-flex align-items-center d-none d-md-flex">
        {% if user.is_authenticated %}
            <span class="me-3 d-none d-md-inline"><i class="bi bi-person-circle"></i> {{ user.username }}</span>
            <a href="{% url 'crear_negocio' %}" class="btn btn-outline-secondary me-2">Crear negocio</a>
            {% if user.negocios.exists %}
                <a href="{% url 'mis_negocios' %}" class="btn btn-outline-primary me-2">Ver mis negocios</a>
            {% endif %}
            {% if tiene_eliminados %}
                <button class="btn btn-warning me-2" data-bs-toggle="modal" data-bs-target="#modalRestaurarNegocios">
                    Restaurar negocios
                </button>
            {% endif %}
            <form method="post" action="{% url 'account_logout' %}" style="display: inline;">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-danger">Cerrar sesión</button>
            </form>
        {% else %}
            <a href="{% url 'account_login' %}" class="btn btn-outline-primary me-2">Iniciar sesión</a>
            <a href="{% url 'account_signup' %}" class="btn gradient-btn">Registrarse</a>
        {% endif %}
    </div>

    <!-- Ícono hamburguesa para móviles -->
    <div class="d-md-none">
        <button class="btn" data-bs-toggle="modal" data-bs-target="#menuUsuarioModal">
            <i class="bi bi-person-circle fs-4"></i>
        </button>
    </div>
</header>

<!-- Modal de usuario (responsive) -->
<div class="modal fade" id="menuUsuarioModal" tabindex="-1" aria-labelledby="menuUsuarioModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen-sm-down">
    <div class="modal-content border-0 rounded-4 shadow">
      <div class="modal-header bg-gradient text-white" style="background: linear-gradient(45deg, #6e48aa, #9d50bb);">
        <h5 class="modal-title" id="menuUsuarioModalLabel">Menú de usuario</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body d-flex flex-column gap-3 p-4">
        {% if user.is_authenticated %}
            <div><i class="bi bi-person"></i> {{ user.username }}</div>
            <a href="{% url 'crear_negocio' %}" class="btn btn-outline-secondary w-100">Crear negocio</a>
            {% if user.negocios.exists %}
                <a href="{% url 'mis_negocios' %}" class="btn btn-outline-primary w-100">Ver mis negocios</a>
            {% endif %}
            {% if tiene_eliminados %}
                <button class="btn btn-warning w-100" data-bs-toggle="modal" data-bs-target="#modalRestaurarNegocios">
                    Restaurar negocios
                </button>
            {% endif %}
            <form method="post" action="{% url 'account_logout' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-danger w-100">Cerrar sesión</button>
            </form>
        {% else %}
            <a href="{% url 'account_login' %}" class="btn btn-outline-primary w-100">Iniciar sesión</a>
            <a href="{% url 'account_signup' %}" class="btn gradient-btn w-100">Registrarse</a>
        {% endif %}
      </div>
    </div>
  </div>
</div>


    <!-- Modal para restaurar negocios eliminados -->
<div class="modal fade" id="modalRestaurarNegocios" tabindex="-1" aria-labelledby="modalRestaurarNegociosLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-warning">
        <h5 class="modal-title" id="modalRestaurarNegociosLabel">Negocios eliminados</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        
    {% if negocios_eliminados %}
    <ul class="list-group">
        {% for negocio in negocios_eliminados %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>{{ negocio.nombre }}</span>
            <form method="POST" action="{% url 'restaurar_negocio' negocio.id %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-sm btn-success">Restaurar</button>
            </form>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="text-muted">No tienes negocios eliminados.</p>
    {% endif %}

        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>


    <!-- Contenido dinámico -->
    <main class="container my-5">
        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer global -->
    <footer class="mt-auto">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Melissa App</h5>
                    <p>Una solución moderna para el manejo de citas en peluquerías con enfoque americano y un estilo minimalista.</p>
                </div>
                <div class="col-md-3">
                    <h6>Enlaces</h6>
                    <ul class="list-unstyled">
                        <li><a href="#">Inicio</a></li>
                        <li><a href="#">Preguntas frecuentes</a></li>
                        <li><a href="#">Contacto</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h6>Contacto</h6>
                    <p>Email: info@melissacitas.com<br>Tel: +1 800 555 1234</p>
                </div>
            </div>
            <div class="text-center mt-4">
                <small>&copy; 2025 Melissa App. Todos los derechos reservados.</small>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
