{% extends 'base.html' %}
{% load static %}

{% block title %}Melissa | Reservas Exclusivas para Peluquerías de Lujo{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section position-relative overflow-hidden">
    <div class="hero-background">
        <div class="hero-overlay"></div>
        <div class="hero-pattern"></div>
    </div>
    
    <div class="container-fluid px-4 py-5">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <div class="hero-content text-white">
                    <h1 class="display-3 fw-bold mb-4">
                        Reservas Exclusivas para 
                        <span class="text-warning">Peluquerías de Lujo</span>
                    </h1>
                    <p class="lead mb-5 opacity-90">
                        Transforma tu peluquería con nuestra plataforma premium. 
                        Gestión inteligente de citas, experiencia de cliente excepcional 
                        y resultados que hablan por sí solos.
                    </p>
                    
                    <div class="hero-buttons d-flex flex-wrap gap-3">
                        {% if not user.is_authenticated %}
                            <a href="{% url 'cuentas:registro_unificado' %}" class="btn btn-warning btn-lg px-5 py-3 fw-bold">
                                <i class="bi bi-star-fill me-2"></i>Comenzar Ahora
                            </a>
                            <a href="{% url 'clientes:lista_negocios' %}" class="btn btn-outline-light btn-lg px-5 py-3">
                                <i class="bi bi-search me-2"></i>Explorar Negocios
                            </a>
                        {% else %}
                            {% if is_cliente %}
                                <a href="{% url 'clientes:dashboard' %}" class="btn btn-warning btn-lg px-5 py-3 fw-bold">
                                    <i class="bi bi-search me-2"></i>Buscar Negocios
                                </a>
                                <a href="{% url 'clientes:mis_reservas' %}" class="btn btn-outline-light btn-lg px-5 py-3">
                                    <i class="bi bi-calendar-check me-2"></i>Mis Reservas
                                </a>
                            {% elif is_negocio %}
                                <a href="{% url 'negocios:mis_negocios' %}" class="btn btn-warning btn-lg px-5 py-3 fw-bold">
                                    <i class="bi bi-shop me-2"></i>Mis Negocios
                                </a>
                                <a href="{% url 'negocios:crear_negocio' %}" class="btn btn-outline-light btn-lg px-5 py-3">
                                    <i class="bi bi-plus-circle me-2"></i>Crear Negocio
                                </a>
                            {% endif %}
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="hero-image text-center">
                    <div class="hero-card bg-white rounded-4 p-4 shadow-lg">
                        <div class="hero-stats row g-4 text-center">
                            <div class="col-4">
                                <div class="stat-item">
                                    <h3 class="text-primary fw-bold mb-1">500+</h3>
                                    <small class="text-muted">Peluquerías</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <h3 class="text-success fw-bold mb-1">50K+</h3>
                                    <small class="text-muted">Citas</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <h3 class="text-warning fw-bold mb-1">98%</h3>
                                    <small class="text-muted">Satisfacción</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Buscador principal elevado -->
<section class="search-bar-section position-relative" style="z-index: 10; margin-top: -60px;">
    <div class="container">
        <!-- Desktop: barra con 3 campos -->
        <div class="d-none d-md-flex search-bar-elevated bg-white rounded-pill shadow-lg mx-auto align-items-center" style="max-width: 1100px; min-height: 80px;">
            <div class="d-flex align-items-center flex-grow-1 w-100">
                <div class="d-flex flex-column justify-content-center align-items-start flex-grow-1 px-3" style="min-width: 200px; height: 70px;">
                    <label class="form-label fw-bold text-muted mb-1 ms-2 small">Ubicación</label>
                    <select class="form-select border-0 bg-transparent ps-2" style="box-shadow: none; font-size: 1.1rem;">
                        <option selected>Selecciona tu ciudad</option>
                        <option>Buenos Aires</option>
                        <option>Córdoba</option>
                        <option>Rosario</option>
                        <option>Mendoza</option>
                    </select>
                </div>
                <div class="d-flex align-items-center" style="height: 70px;">
                    <div class="vr mx-2" style="height: 40px;"></div>
                </div>
                <div class="d-flex flex-column justify-content-center align-items-start flex-grow-1 px-3" style="min-width: 200px; height: 70px;">
                    <label class="form-label fw-bold text-muted mb-1 ms-2 small">Servicio</label>
                    <select class="form-select border-0 bg-transparent ps-2" style="box-shadow: none; font-size: 1.1rem;">
                        <option selected>Todos los servicios</option>
                        <option>Corte de cabello</option>
                        <option>Coloración</option>
                        <option>Tratamientos</option>
                        <option>Peinados</option>
                    </select>
                </div>
                <div class="d-flex align-items-center" style="height: 70px;">
                    <div class="vr mx-2" style="height: 40px;"></div>
                </div>
                <div class="d-flex flex-column justify-content-center align-items-start flex-grow-1 px-3" style="min-width: 200px; height: 70px;">
                    <label class="form-label fw-bold text-muted mb-1 ms-2 small">Nombre de negocio</label>
                    <input type="text" class="form-control border-0 bg-transparent ps-2" placeholder="Ej: Glamour Studio" style="box-shadow: none; font-size: 1.1rem;">
                </div>
            </div>
            <div class="d-flex align-items-center ms-3 me-3">
                <button class="btn btn-lg rounded-circle d-flex align-items-center justify-content-center btn-search" style="background: #ff3366; color: #fff; width: 56px; height: 56px; box-shadow: 0 4px 16px rgba(255,51,102,0.15);" type="button">
                    <i class="bi bi-search fs-4"></i>
                </button>
            </div>
        </div>
        <!-- Mobile: barra visual que abre modal -->
        <div class="d-block d-md-none">
            <div class="search-bar-mobile bg-white rounded-pill shadow-lg mx-auto d-flex align-items-center px-3 py-3" style="max-width: 100%; min-height: 60px; cursor: pointer;" data-bs-toggle="modal" data-bs-target="#busquedaModal">
                <i class="bi bi-search fs-4 text-muted me-2"></i>
                <span class="text-muted flex-grow-1" style="font-size: 1.1rem;">¿Qué reserva buscar hoy?</span>
            </div>
        </div>
    </div>
</section>

<!-- Modal búsqueda mobile -->
<div class="modal fade" id="busquedaModal" tabindex="-1" aria-labelledby="busquedaModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4 p-2" style="background: #fff;">
      <div class="modal-header border-0 pb-0">
        <h5 class="modal-title fw-bold" id="busquedaModalLabel">¿Dónde?</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body pt-2">
        <div class="input-group mb-3">
          <span class="input-group-text bg-white border-0"><i class="bi bi-search"></i></span>
          <input type="text" class="form-control border-0" placeholder="Explora destinos">
        </div>
        <div class="mb-3">
          <div class="small text-muted mb-2">Destinaciones sugeridas</div>
          <ul class="list-unstyled mb-0">
            <li class="d-flex align-items-center mb-2">
              <span class="me-2"><i class="bi bi-geo-alt text-primary fs-5"></i></span>
              <div>
                <div class="fw-bold">Cerca</div>
                <div class="text-muted small">Descubre qué hay a tu alrededor</div>
              </div>
            </li>
            <li class="d-flex align-items-center mb-2">
              <span class="me-2"><i class="bi bi-building text-success fs-5"></i></span>
              <div>
                <div class="fw-bold">Cartagena, Bolívar</div>
                <div class="text-muted small">Una destinación de playa popular</div>
              </div>
            </li>
            <li class="d-flex align-items-center mb-2">
              <span class="me-2"><i class="bi bi-tree text-success fs-5"></i></span>
              <div>
                <div class="fw-bold">Santa Marta, Magdalena</div>
                <div class="text-muted small">Por lugares emblemáticos como este: Parque Nacional Natural Tayrona</div>
              </div>
            </li>
            <li class="d-flex align-items-center mb-2">
              <span class="me-2"><i class="bi bi-house text-warning fs-5"></i></span>
              <div>
                <div class="fw-bold">Cali, Valle del Cauca</div>
                <div class="text-muted small">Popular entre viajeros de tu zona</div>
              </div>
            </li>
          </ul>
        </div>
        <div class="row g-2 mb-3">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center bg-light rounded-3 px-3 py-2 mb-2">
              <span class="fw-bold">¿Cuándo?</span>
              <span class="text-muted">Agrega fechas</span>
            </div>
            <div class="d-flex justify-content-between align-items-center bg-light rounded-3 px-3 py-2">
              <span class="fw-bold">Quién</span>
              <span class="text-muted">Agrega huéspedes</span>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-between align-items-center mt-3">
          <a href="#" class="text-muted small text-decoration-underline">Limpiar todo</a>
          <button class="btn btn-lg rounded-pill px-4" style="background: #ff3366; color: #fff;" type="button">
            <i class="bi bi-search me-2"></i>Buscar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Características principales -->
<section class="features-section py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-5 fw-bold text-dark mb-4">
                    ¿Por qué elegir <span class="text-primary">Melissa</span>?
                </h2>
                <p class="lead text-muted">
                    La plataforma más avanzada para peluquerías que buscan la excelencia
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="feature-card text-center p-4 h-100">
                    <div class="feature-icon bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                        <i class="bi bi-calendar-check text-primary fs-1"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Gestión Inteligente</h4>
                    <p class="text-muted">
                        Sistema de reservas automático que optimiza tu agenda y maximiza tus ingresos
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="feature-card text-center p-4 h-100">
                    <div class="feature-icon bg-success bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                        <i class="bi bi-star text-success fs-1"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Experiencia Premium</h4>
                    <p class="text-muted">
                        Interfaz elegante que refleja la calidad de tu negocio y mejora la satisfacción del cliente
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="feature-card text-center p-4 h-100">
                    <div class="feature-icon bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                        <i class="bi bi-graph-up text-warning fs-1"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Analytics Avanzados</h4>
                    <p class="text-muted">
                        Métricas detalladas para tomar decisiones informadas y hacer crecer tu negocio
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5 bg-primary text-white">
    <div class="container text-center">
        <h2 class="display-6 fw-bold mb-4">
            ¿Listo para transformar tu peluquería?
        </h2>
        <p class="lead mb-5 opacity-90">
            Únete a cientos de peluquerías que ya confían en Melissa
        </p>
        {% if not user.is_authenticated %}
            <a href="{% url 'cuentas:registro_unificado' %}" class="btn btn-warning btn-lg px-5 py-3 fw-bold">
                <i class="bi bi-rocket-takeoff me-2"></i>Comenzar Gratis
            </a>
        {% else %}
            {% if is_cliente %}
                <a href="{% url 'clientes:dashboard' %}" class="btn btn-warning btn-lg px-5 py-3 fw-bold">
                    <i class="bi bi-search me-2"></i>Explorar Negocios
                </a>
            {% elif is_negocio %}
                <a href="{% url 'negocios:crear_negocio' %}" class="btn btn-warning btn-lg px-5 py-3 fw-bold">
                    <i class="bi bi-plus-circle me-2"></i>Crear mi Negocio
                </a>
            {% endif %}
        {% endif %}
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
/* Hero Section */
.hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
    overflow: hidden;
}

.hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%), 
                linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%), 
                linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.1) 75%), 
                linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.1) 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
    opacity: 0.1;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
}

.hero-pattern {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%);
}

.hero-content {
    position: relative;
    z-index: 2;
}

.hero-card {
    position: relative;
    z-index: 2;
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.95);
}

/* Search Bar */
.search-bar {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.search-bar::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
    z-index: -1;
    border-radius: 20px;
    opacity: 0.3;
}

/* Feature Cards */
.feature-card {
    background: white;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
}

/* CTA Section */
.cta-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
    overflow: hidden;
}

.cta-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%), 
                linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%), 
                linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.1) 75%), 
                linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.1) 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
    opacity: 0.1;
}

.cta-section .container {
    position: relative;
    z-index: 2;
}

/* Responsive */
@media (max-width: 768px) {
    .hero-content h1 {
        font-size: 2.5rem;
    }
    
    .search-bar-elevated {
        display: none !important;
    }
    .search-bar-mobile {
        display: flex !important;
    }
}
@media (min-width: 768px) {
    .search-bar-mobile {
        display: none !important;
    }
}
/* Hover ovalado para labels de la barra de búsqueda */
@media (min-width: 768px) {
    .search-bar-elevated label.form-label {
        transition: background 0.2s, color 0.2s;
        border-radius: 2rem;
        padding: 0.25rem 1.2rem 0.25rem 1.2rem;
        cursor: pointer;
    }
    .search-bar-elevated label.form-label:hover {
        background: #f3f4f6;
        color: #3b82f6;
    }
    .search-bar-elevated .btn-search {
        transition: background 0.2s, box-shadow 0.2s;
    }
    .search-bar-elevated .btn-search:hover {
        background: #d81b60 !important;
        box-shadow: 0 6px 20px rgba(216,27,96,0.18);
    }
}
</style>
{% endblock %} 